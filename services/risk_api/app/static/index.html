<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Risk Intelligence Console</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div>
        <div class="title">Risk Intelligence Console</div>
        <div class="subtitle">Fraud + Conduct + Vulnerability Decisioning</div>
      </div>
      <div class="actions">
        <button class="btn ghost" id="btnHealth">Health</button>
        <button class="btn ghost" id="btnReady">Ready</button>
        <button class="btn" id="btnLoadExample">Load example</button>
        <button class="btn danger" id="btnClear">Clear</button>
      </div>
    </header>

    <main class="grid">
      <section class="card">
        <div class="cardHead">
          <div class="cardTitle">Request Builder</div>
          <div class="cardMeta">POST <span class="mono" id="apiPath"></span></div>
        </div>

        <div class="section">
          <div class="sectionTitle">Fraud Signals</div>
          <div class="formGrid">
            <label>
              <span>txn_amount</span>
              <input id="txn_amount" type="number" step="0.01" placeholder="1200" />
            </label>
            <label>
              <span>avg_txn_amount_30d</span>
              <input id="avg_txn_amount_30d" type="number" step="0.01" placeholder="120" />
            </label>
            <label>
              <span>txns_1h</span>
              <input id="txns_1h" type="number" step="1" placeholder="6" />
            </label>
            <label>
              <span>txns_24h</span>
              <input id="txns_24h" type="number" step="1" placeholder="40" />
            </label>
            <label>
              <span>txn_currency</span>
              <input id="txn_currency" type="text" placeholder="GBP" />
            </label>
            <label>
              <span>txn_country</span>
              <input id="txn_country" type="text" placeholder="GB" />
            </label>
            <label>
              <span>account_age_days</span>
              <input id="account_age_days" type="number" step="1" placeholder="30" />
            </label>
            <label>
              <span>device_change_7d</span>
              <input id="device_change_7d" type="number" step="1" placeholder="1" />
            </label>
            <label>
              <span>failed_logins_24h</span>
              <input id="failed_logins_24h" type="number" step="1" placeholder="3" />
            </label>
          </div>
        </div>

        <div class="section">
          <div class="sectionTitle">Text Signals</div>
          <div class="formGrid small">
            <label>
              <span>case_id</span>
              <input id="case_id" type="text" placeholder="C-1001" />
            </label>
            <label>
              <span>channel</span>
              <input id="channel" type="text" placeholder="chat" />
            </label>
            <label>
              <span>customer_id</span>
              <input id="customer_id" type="text" placeholder="U-1" />
            </label>
          </div>

          <label class="textarea">
            <span>text</span>
            <textarea id="text" rows="5" placeholder="Leave empty to score using Fraud-only..."></textarea>
          </label>

          <div class="hint">Tip: leaving <span class="mono">text</span> empty will score fraud-only.</div>
        </div>

        <div class="row">
          <button class="btn" id="btnScore">Score Risk</button>
          <button class="btn ghost" id="btnCopyCurl">Copy cURL</button>
          <button class="btn ghost" id="btnCopyJson">Copy JSON</button>
          <div class="spacer"></div>
          <div class="status" id="status"></div>
        </div>
      </section>

      <section class="card">
        <div class="cardHead">
          <div class="cardTitle">Decision Output</div>
          <div class="cardMeta" id="metaLine">No runs yet</div>
        </div>

        <div class="summary" id="summary">
          <div class="summaryLeft">
            <div class="k">Final Category</div>
            <div class="v" id="finalCategory">—</div>
          </div>
          <div class="summaryMid">
            <div class="k">Risk Band</div>
            <div class="badge" id="riskBand">—</div>
          </div>
          <div class="summaryRight">
            <div class="k">Score</div>
            <div class="score" id="riskScore">—</div>
            <div class="mini" id="severityLine"></div>
          </div>
        </div>

        <div class="split">
          <div class="panel">
            <div class="panelTitle">Primary Drivers</div>
            <ul class="list" id="reasons"></ul>
          </div>
          <div class="panel">
            <div class="panelTitle">Per Category</div>
            <div class="cards" id="perCategory"></div>
          </div>
        </div>

        <div class="panel">
          <div class="panelTitle">Evidence</div>
          <div class="evidence" id="evidence"></div>
        </div>

        <div class="panel">
          <div class="panelTitle">AI Explanation</div>
          <div class="explain" id="explain">Not enabled yet (we’ll wire it right after UI).</div>
        </div>

        <div class="panel">
          <div class="panelTitle">Run History</div>
          <div class="history" id="history"></div>
        </div>

        <div class="panel">
          <div class="panelTitle">Raw JSON</div>
          <pre class="pre" id="rawJson">{}</pre>
        </div>
      </section>
    </main>
  </div>

  <div class="toast" id="toast"></div>
  <script src="/static/app.js"></script>
</body>
</html>